@{
    ViewData["Title"] = "Şifre Değiştir";
}

<h2 class="text-center my-4">@ViewData["Title"]</h2>

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger text-center">
        @TempData["Error"]
    </div>
}

@if (TempData["Success"] != null)
{
    <div class="alert alert-success text-center">
        @TempData["Success"]
    </div>
}

<div class="container">
    <div class="card shadow-sm">
        <div class="card-header" style="background-color: #f8b0d4; color: #fff;">
            <h4 class="mb-0">Şifrenizi Değiştirin</h4>
        </div>
        <div class="card-body" style="background-color: #fce0f1;">
            <form method="post" asp-action="ChangePassword" onsubmit="return validatePassword();">
                <div class="form-group">
                    <label for="currentPassword">Mevcut Şifre</label>
                    <input type="password" id="currentPassword" name="currentPassword" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="newPassword">Yeni Şifre</label>
                    <input type="password" id="newPassword" name="newPassword" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Yeni Şifreyi Onayla</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" required />
                </div>
                <button type="submit" class="btn btn-pink">Şifreyi Değiştir</button>
            </form>
        </div>
    </div>
</div>

<style>
    .btn-pink {
        background-color: #f8b0d4;
        color: white;
    }

        .btn-pink:hover {
            background-color: #f1729f;
        }

    .card-header {
        background-color: #f8b0d4;
        color: white;
    }

    .card-body {
        background-color: #fce0f1;
    }
</style>

<script>
    function validatePassword() {
        var newPassword = document.getElementById("newPassword").value;
        var confirmPassword = document.getElementById("confirmPassword").value;

        if (newPassword !== confirmPassword) {
            alert("Yeni şifre ile onay şifresi eşleşmiyor.");
            return false;  // Formu göndermeyi engelle
        }

        return true;  // Şifreler eşleşiyorsa formu gönder
    }
</script>

